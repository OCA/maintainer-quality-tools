#!/bin/bash

: ${ODOO_REPO:="odoo/odoo"}  # default value, if not set
IFS="/" read -a REPO <<< "${ODOO_REPO}"
ODOO_URL="https://github.com/${REPO[0]}/${REPO[1]}/archive/${1}.tar.gz"

echo "Installing Odoo ${ODOO_URL}"
wget -O odoo.tar.gz ${ODOO_URL}
tar -xf odoo.tar.gz -C ../

sudo apt-get install python-lxml  # because pip installation is slooow

pip install QUnitSuite flake8 coveralls
pip install -r $(dirname ${BASH_SOURCE[0]})/requirements.txt
